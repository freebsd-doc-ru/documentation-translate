---
description: 'Эта глава описывает другие файловые системы, поддерживаемые FreeBSD'
next: books/handbook/virtualization
params:
  path: /books/handbook/filesystems/
part: 'Часть III. Администрирование системы'
prev: books/handbook/zfs
showBookMenu: true
tags: ["filesystem", "ext2", "ext3", "ext4", "ext2fs", "FAT", "exFAT", "NTFS", "HFS", "HFS+", "Apple", "Microsoft", "Linux"]
title: 'Глава 23. Поддержка файловых систем'
weight: 27
---

[[filesystems]]
= Поддержка файловых систем
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:sectnumoffset: 23
:partnums:
:source-highlighter: rouge
:experimental:
:images-path: books/handbook/filesystems/

ifdef::env-beastie[]
ifdef::backend-html5[]
:imagesdir: ../../../../images/{images-path}
endif::[]
ifndef::book[]
include::shared/authors.adoc[]
include::shared/mirrors.adoc[]
include::shared/releases.adoc[]
include::shared/attributes/attributes-{{% lang %}}.adoc[]
include::shared/{{% lang %}}/teams.adoc[]
include::shared/{{% lang %}}/mailing-lists.adoc[]
include::shared/{{% lang %}}/urls.adoc[]
toc::[]
endif::[]
ifdef::backend-pdf,backend-epub3[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]
endif::[]

ifndef::env-beastie[]
toc::[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]

[[filesystems-synopsis]]
== Обзор

Файловые системы являются фундаментальным компонентом любой операционной системы. Они позволяют пользователям сохранять, управлять и получать доступ к данным, делая устройства хранения, такие как жесткие диски, флеш-накопители и USB-устройства, практичными для повседневного использования. Разные операционные системы используют разные файловые системы в своей основе.

Традиционно FreeBSD использует Unix File System (UFS), а её современную версию UFS2 — в качестве основной родной файловой системы. FreeBSD также поддерживает Файловую Систему Z (Z File System — ZFS), известную благодаря своим расширенным возможностям, надёжности и отказоустойчивости. Подробнее см. crossref:zfs[zfs,The Z File System (ZFS)].

Помимо собственных файловых систем, FreeBSD поддерживает широкий спектр файловых систем из других операционных систем. Поддержка этих файловых систем варьируется: для некоторых требуется загрузка модулей ядра, в то время как для других необходимы дополнительные пользовательские утилиты.

Прежде чем читать эту главу, вы должны:

* Знать концепции UNIX(R) и crossref:basics[basics,основы FreeBSD].
* Свободно устанавливать программное обеспечение через crossref:ports[ports,установку программ] в FreeBSD.
* Иметь некоторое представление о crossref:disks[disks, дисках], устройствах хранения данных и соглашениях FreeBSD по именованию устройств.

Прочитав эту главу, вы:

* Будете понимать различия между родными и поддерживаемыми файловыми системами.
* Будете знать, какие файловые системы поддерживаются FreeBSD и уровень доступной поддержки.
* Узнаете, как включить, настроить, получить доступ и работать с файловыми системами, не входящими в стандартную поставку.

[[filesystems-linux]]
== Файловые системы Linux(R)

FreeBSD предоставляет встроенную поддержку нескольких файловых систем Linux(R). В этом разделе показано, как загрузить поддержку и подключить поддерживаемые файловые системы Linux(R).

[[ext]]
=== Расширенная Файловая Система (EXT)

Поддержка файловых систем Extended File System (EXT) на уровне ядра доступна в FreeBSD начиная с версии 2.2. Драйвер man:ext2fs[5] позволяет ядру FreeBSD читать и записывать данные в файловые системы ext2, ext3 и ext4.

[WARNING]
====
Журналирование и шифрование пока не поддерживаются.
====

Для доступа к файловой системе ext смонтируйте раздел ext, указав его имя раздела в FreeBSD и существующую точку монтирования. В этом примере монтируется [.filename]#/dev/ada1s1# в [.filename]#/mnt#:

[source, shell]
....
# mount -t ext2fs /dev/ada1s1 /mnt
....

[[filesystems-windows]]
== Файловые системы Windows(R)

FreeBSD поддерживает файловые системы FAT, exFAT и NTFS, обеспечивая доступ к хранилищам, отформатированным в Windows.

[[fat]]
=== Файловая система FAT

Файловая система FAT — это простая и надежная файловая система. Хотя она уступает современным аналогам в производительности, надежности и масштабируемости, ее доступность во многих операционных системах делает ее распространенным выбором для обмена данными между устройствами.

Для доступа к файловой системе FAT необходимо подключить том FAT, указав имя раздела FreeBSD и существующую точку монтирования. В этом примере подключается [.filename]#/dev/ada0s1# в [.filename]#/mnt#:

[source, shell]
....
# mount -t msdosfs /dev/ada0s1 /mnt
....

[[ex-fat]]
=== Файловая система exFAT

exFAT (Extended File Allocation Table) — это облегчённая файловая система, оптимизированная для флеш-накопителей, таких как USB-диски и SD-карты. Она поддерживает файлы большого размера и широко используется на различных платформах, что делает её идеальной для внешних накопителей.

Для использования exFAT в FreeBSD установите пакет package:filesystems/exfat[], загрузите модуль ядра FUSE и смонтируйте файловую систему, как показано ниже:

Установите пакет exFAT:

[source, shell]
....
# pkg install exfat
....

Прежде чем использовать файловую систему FUSE, загрузите модуль ядра man:fusefs[5]:

[source, shell]
....
# kldload fusefs
....

Используйте man:sysrc[8] для загрузки модуля при запуске:

[source, shell]
....
# sysrc kld_list+=fusefs
....

Смонтируйте том exFAT, указав его имя раздела FreeBSD и существующую точку монтирования. В этом примере монтируется [.filename]#/dev/ada0s1# в [.filename]#/mnt#:

[source, shell]
....
# mount.exfat /dev/ada0s1 /mnt
....

[[using-ntfs]]
=== Файловая система NTFS

NTFS — это надежная файловая система, разработанная Microsoft(R) и широко используемая в операционных системах Windows. FreeBSD обеспечивает полную поддержку чтения и записи NTFS через пакет package:filesystems/ntfs[], что упрощает доступ и изменение хранилищ данных с форматированием NTFS.

Для использования NTFS в FreeBSD установите пакет package:filesystems/ntfs[], загрузите модуль ядра FUSE и смонтируйте файловую систему, как показано ниже:

Установите пакет NTFS:

[source, shell]
....
# pkg install ntfs
....

Прежде чем использовать файловую систему FUSE, загрузите модуль ядра man:fusefs[5]:

[source, shell]
....
# kldload fusefs
....

Используйте man:sysrc[8] для загрузки модуля при запуске:

[source, shell]
....
# sysrc kld_list+=fusefs
....

Смонтируйте том NTFS, указав его имя раздела в FreeBSD и существующую точку монтирования. В этом примере монтируется [.filename]#/dev/ada0s1# в [.filename]#/mnt#:

[source, shell]
....
# ntfs-3g /dev/ada0s1 /mnt
....

[[filesystems-macos]]
== Файловые системы MacOS(R)

FreeBSD обеспечивает поддержку файловых систем MacOS(R), включая HFS/HFS+, что позволяет получать доступ к устройствам хранения, отформатированным для систем Apple(R).

[[hfs]]
=== Файловая система HFS/HFS+

HFS/HFS+ была основной файловой системой для MacOS до APFS, часто использовалась на старых устройствах Mac и внешних накопителях. FreeBSD предоставляет поддержку только для чтения HFS/HFS+ через пакет package:filesystems/hfsfuse[].

Для использования HFS/HFS+ в FreeBSD установите пакет package:filesystems/hfsfuse[], загрузите модуль ядра FUSE и смонтируйте файловую систему, как показано ниже:

Установите пакет HFS/HFS+:

[source, shell]
....
# pkg install fusefs-hfsfuse
....

Прежде чем использовать файловую систему FUSE, загрузите модуль ядра man:fusefs[5]:

[source, shell]
....
# kldload fusefs
....

Используйте man:sysrc[8] для загрузки модуля при запуске:

[source, shell]
....
# sysrc kld_list+=fusefs
....

Смонтируйте том HFS/HFS+, указав его имя раздела FreeBSD и существующую точку монтирования. В этом примере монтируется [.filename]#/dev/ada0s1# в [.filename]#/mnt#:

[source, shell]
....
# hfsfuse /dev/ada0s1 /mnt
....
