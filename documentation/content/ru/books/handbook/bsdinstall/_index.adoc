---
description: 'Руководство по установке FreeBSD, минимальным требованиям к оборудованию и поддерживаемым архитектурам, созданию установочного диска и так далее'
next: books/handbook/basics
params:
  path: /books/handbook/bsdinstall/
part: 'В начале'
prev: books/handbook/introduction
showBookMenu: true
tags: ["bsdinstall", "installing FreeBSD", "requirements", "tutorial", "guide"]
title: 'Глава 2. Установка FreeBSD'
weight: 4
---

[[bsdinstall]]
= Установка FreeBSD
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:sectnumoffset: 2
:partnums:
:source-highlighter: rouge
:experimental:
:images-path: books/handbook/bsdinstall/

ifdef::env-beastie[]
ifdef::backend-html5[]
:imagesdir: ../../../../images/{images-path}
endif::[]
ifndef::book[]
include::shared/authors.adoc[]
include::shared/mirrors.adoc[]
include::shared/releases.adoc[]
include::shared/attributes/attributes-{{% lang %}}.adoc[]
include::shared/{{% lang %}}/teams.adoc[]
include::shared/{{% lang %}}/mailing-lists.adoc[]
include::shared/{{% lang %}}/urls.adoc[]
toc::[]
endif::[]
ifdef::backend-pdf,backend-epub3[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]
endif::[]

ifndef::env-beastie[]
toc::[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]

[[bsdinstall-synopsis]]
== Обзор

FreeBSD поддерживает различные архитектуры, включая amd64, ARM(R), RISC-V(R) и PowerPC(R). В зависимости от архитектуры и платформы, различные образы могут быть link:https://www.freebsd.org/where/[скачены] для установки или непосредственного запуска FreeBSD.

Типы образов:

* Диски образов виртуальных машин, такие как `qcow2`, `vmdk`, `vhd`, и образы raw-устройств. Это не установочные образы, а образы с предустановленной FreeBSD, готовые к выполнению задач после установки. Образы виртуальных машин также часто используются в облачных средах.
* Образы SD-карт для встраиваемых систем, таких как Raspberry Pi. Эти файлы необходимо распаковать и записать как сырой образ на SD-карту, с которой будет загружаться плата.
* Установочные образы для загрузки с ISO или USB-устройства, чтобы установить FreeBSD на диск для обычной настольной, портативной или серверной системы.

Остальная часть этой главы описывает третий случай, объясняя, как установить FreeBSD с использованием текстовой программы установки под названием `bsdinstall`. Между установщиком и тем, что показано здесь, могут быть незначительные различия, поэтому используйте эту главу как общее руководство, а не как точную инструкцию.

Прочитав эту главу, вы будете знать:

* Как получить образы FreeBSD и создать установочные носители FreeBSD.
* Как запустить bsdinstall.
* Вопросы, которые задаст bsdinstall, их значение и как на них отвечать.
* Как решить проблемы неудачной установки.
* Как получить доступ к свежей версии FreeBSD перед установкой системы.

[[bsdinstall-hardware]]
== Минимальные требования к оборудованию

Требования к оборудованию для установки FreeBSD зависят от архитектуры и версии. Поддерживаемые аппаратные архитектуры и устройства для выпуска FreeBSD перечислены на странице link:https://www.FreeBSD.org/releases/[FreeBSD Release Information]. На странице link:https://www.FreeBSD.org/where/[FreeBSD download page] также приведены рекомендации по выбору правильного образа для различных архитектур.

[[bsdinstall-pre]]
== Задачи перед установкой

После того как будет подтверждено, что система соответствует минимальным требованиям для установки FreeBSD, необходимо загрузить установочный файл и подготовить установочный носитель.

[TIP]
====
Рассмотрите возможность использования crossref:virtualization[virtualization,Виртуализации], если вы хотите использовать FreeBSD на системе, где уже установлена другая операционная система.
====

Прежде чем перейти к установке, убедитесь, что система готова, проверив пункты из этого контрольного списка:

[.procedure]
====
. *Back Up Important Data*
+
Перед установкой любой операционной системы *всегда* создавайте резервную копию всех важных данных. Не храните резервную копию на системе, на которую производится установка. Вместо этого сохраните данные на съемный диск, такой как USB-накопитель, другую систему в сети или в онлайн-сервис резервного копирования. Проверьте резервную копию перед началом установки, чтобы убедиться, что она содержит все необходимые файлы. После того как установщик отформатирует диск системы, все данные, хранящиеся на этом диске, будут потеряны.
. *Decide Where to Install FreeBSD*
+
Если FreeBSD будет единственной операционной системой, этот шаг можно пропустить. Но если FreeBSD будет находиться на диске вместе с другой операционной системой, определите, какой диск или раздел будет использоваться для FreeBSD.
+
В архитектурах i386 и amd64 диски могут быть разделены на несколько разделов с использованием одной из двух схем разделения. Традиционная _Главная загрузочная запись_ (MBR) содержит таблицу разделов, определяющую до четырёх _основных разделов_. По историческим причинам FreeBSD называет эти основные разделы _слайсами_. Один из этих основных разделов может быть преобразован в _расширенный раздел_, содержащий несколько _логических разделов_. _Таблица разделов GUID_ (GPT) — это более новый и простой метод разделения диска. Стандартные реализации GPT позволяют создавать до 128 разделов на диске, что устраняет необходимость в логических разделах.
+
Загрузчик FreeBSD требует наличия либо первичного, либо GPT-раздела. Если все первичные или GPT-разделы уже заняты, необходимо освободить один для FreeBSD. Чтобы создать раздел без удаления существующих данных, используйте инструмент для изменения размера разделов, чтобы уменьшить существующий раздел и создать новый раздел, используя освободившееся пространство.
+
Альтернативой изменению существующих разделов диска системы является использование crossref:virtualization[virtualization, Виртуализации], которая позволяет одновременно запускать несколько операционных систем без необходимости изменения разделов.
+
Различные бесплатные и коммерческие инструменты для изменения размера разделов перечислены в статье link:https://en.wikipedia.org/wiki/List_of_disk_partitioning_software[Список программ для работы с разделами диска на Википедии]. link:https://gparted.org/livecd.php[GParted Live] — это бесплатный Live CD, включающий редактор разделов GParted.
+
[WARNING]
======
При правильном использовании утилиты для сжатия дисков могут безопасно освободить место для создания нового раздела. Поскольку существует вероятность выбора неправильного раздела, всегда создавайте резервные копии важных данных и проверяйте их целостность перед изменением разделов диска.
======
+
Разделы диска с разными операционными системами позволяют установить несколько операционных систем на один компьютер.
. *Collect Network Information*
+
Некоторые методы установки FreeBSD требуют наличия сетевого подключения для загрузки файлов установки. После одного из этапов установки программа-установщик предложит настроить сетевые интерфейсы системы.
+
Если в сети есть DHCP-сервер, его можно использовать для автоматической настройки сети. Если DHCP недоступен, следующую информацию о сети для системы необходимо получить у локального сетевого администратора или интернет-провайдера:
+
[[bsdinstall-collect-network-information]]
Необходимая сетевая информация

.. IP-адрес
.. Маска подсети
.. IP-адрес шлюза по умолчанию
.. Доменное имя сети
.. IP-адреса DNS-серверов сети

. *Check for FreeBSD Errata*
+
Хотя проект FreeBSD стремится к тому, чтобы каждая версия FreeBSD была максимально стабильной, иногда в процессе могут возникать ошибки. В очень редких случаях эти ошибки влияют на процесс установки. Когда такие проблемы обнаруживаются и исправляются, они отмечаются на странице FreeBSD Errata для каждой версии. Перед установкой проверьте список errata, чтобы убедиться в отсутствии проблем, которые могут повлиять на установку.
+
Информация и список ошибок для всех выпусков доступны на странице link:https://www.FreeBSD.org/releases/[Информация о релизе FreeBSD].
====

[[bsdinstall-installation-media]]
=== Подготовьте установочный носитель

Установщик FreeBSD — это не приложение, которое можно запустить из другой операционной системы. Вместо этого скачайте файл установки FreeBSD, запишите его на носитель, соответствующий его типу и размеру (CD, DVD или USB), и загрузите систему для установки с этого носителя.

Файлы для установки FreeBSD доступны на link:https://www.FreeBSD.org/where/[странице скачивания FreeBSD]. Имя каждого файла установки включает версию выпуска FreeBSD, архитектуру и тип файла.

Файлы для установки доступны в нескольких форматах, сжатые с помощью man:xz[1] или несжатые. Форматы различаются в зависимости от архитектуры компьютера и типа носителя.

Типы файлов установки:

* `*-bootonly.iso*` — это самый маленький установочный файл, так как он содержит только установщик. Для установки требуется работающее интернет-соединение, так как установщик загрузит файлы, необходимые для завершения установки FreeBSD. Этот файл следует записать на оптический носитель.
* `*-disc1.iso*` — этот файл содержит все необходимые файлы для установки FreeBSD, её исходных кодов и Коллекции портов. Данный файл следует записать на оптический носитель.
* `*-dvd1.iso*` — этот файл содержит все необходимые файлы для установки FreeBSD, его исходные коды и Коллекцию портов. Также в него включён набор популярных бинарных пакетов для установки оконного менеджера и некоторых приложений, что позволяет установить полноценную систему с носителя без подключения к Интернету. Этот файл следует записать на оптический диск.
* `*-memstick.img*` — этот файл содержит все необходимые файлы для установки FreeBSD, её исходных кодов и Коллекции портов. Запишите этот файл на USB-накопитель, как показано в crossref:bsdinstall[bsdinstall-usb, Запись образа на USB].
* `*-mini-memstick.img*` — как и `*-bootonly.iso*`, не содержит файлов для установки, но загружает их по мере необходимости. Требуется работающее интернет-подключение во время установки. Этот образ должен быть записан на USB-накопитель, как показано в crossref:bsdinstall[bsdinstall-usb, Запись образа на USB].

После загрузки файла образа загрузите как минимум один файл _контрольной суммы_ из того же каталога. Доступны два файла _контрольной суммы_, названные в соответствии с номером выпуска и архитектурой. Например: `CHECKSUM.SHA256-FreeBSD-13.1-RELEASE-amd64` и `CHECKSUM.SHA512-FreeBSD-13.1-RELEASE-amd64`.

После загрузки одного из файлов (или обоих) вычислите _контрольную сумму_ для файла образа и сравните её с указанной в файле _контрольной суммы_. Обратите внимание, что необходимо сравнивать вычисленную _контрольную сумму_ с правильным файлом, так как они соответствуют разным алгоритмам: SHA256 и SHA512. FreeBSD предоставляет утилиты man:sha256[1] и man:sha512[1], которые можно использовать для вычисления _контрольной суммы_. В других операционных системах существуют аналогичные программы.

Проверка _контрольной суммы_ в FreeBSD может быть выполнена автоматически с помощью man:sha256sum[1] (и man:sha512sum[1]) путем выполнения:

[source, shell]
....
% sha256sum -c CHECKSUM.SHA256-FreeBSD-13.1-RELEASE-amd64 FreeBSD-13.1-RELEASE-amd64-dvd1.iso
FreeBSD-13.1-RELEASE-amd64-dvd1.iso: OK
....

Хеш-суммы должны полностью совпадать. Если хеш-суммы не совпадают, образ файла повреждён и его необходимо загрузить заново.

[[bsdinstall-usb]]
==== Запись образа на USB-накопитель

Файл `\*memstick.img` представляет собой _образ_ полного содержимого USB-накопителя. Его _нельзя_ просто скопировать на целевое устройство как файл. Существует несколько программ для записи `*.img` на USB-накопитель. В этом разделе описаны две такие утилиты.

[IMPORTANT]
====
Прежде чем продолжить, создайте резервную копию всех важных данных на USB-накопителе. Эта процедура удалит все существующие данные на носителе.
====

[[bsdinstall-usb-dd]]
[.procedure]
====
*Procedure. Using `dd` to write the image* +

[WARNING]
======
Этот пример использует `/dev/da0` в качестве целевого устройства, на которое будет записан образ. Будьте *очень внимательны* при выборе правильного устройства, так как эта команда уничтожит все существующие данные на указанном целевом устройстве.
======

. Утилита командной строки доступна в системах BSD, Linux(R) и Mac OS(R). Чтобы записать образ с помощью `dd`, вставьте USB-накопитель и определите его имя устройства. Затем укажите имя загруженного файла установки и имя устройства USB-накопителя. В этом примере записывается образ установки amd64 на первое USB-устройство в существующей системе FreeBSD.
+
[source, shell]
....
# dd if=FreeBSD-13.1-RELEASE-amd64-memstick.img of=/dev/da0 bs=1M conv=sync
....
+
Если команда завершается с ошибкой, убедитесь, что USB-накопитель не смонтирован и что указано имя диска, а не раздела.
+
Некоторые операционные системы могут потребовать выполнения этой команды с man:sudo[8]. Синтаксис man:dd[1] немного различается на разных платформах; например, Mac OS(R) требует указания `bs=1m` в нижнем регистре. Системы, такие как Linux(R), могут буферизировать запись. Чтобы принудительно завершить все операции записи, используйте man:sync[8].
====

[.procedure]
====
*Procedure. Using Windows(R) to Write the Image* +

[WARNING]
======
Убедитесь, что указали правильную букву диска, так как все существующие данные на указанном диске будут перезаписаны и уничтожены.
======

. *Obtaining Image Writer for Windows(R)*
+
`Image Writer for Windows(R)` — это бесплатное приложение, которое позволяет корректно записать файл образа на USB-накопитель. Загрузите его с https://sourceforge.net/projects/win32diskimager/[официальной страницы win32diskimager] и распакуйте в нужную папку.

. *Writing the Image with Image Writer*
+
Дважды щелкните по значку Win32DiskImager, чтобы запустить программу. Убедитесь, что буква диска, указанная в разделе `Device`, соответствует диску с флеш-накопителем. Нажмите на значок папки и выберите образ, который нужно записать на флеш-накопитель. Нажмите btn:[Save], чтобы подтвердить имя файла образа. Убедитесь, что все правильно и что никакие папки на флеш-накопителе не открыты в других окнах. Когда все готово, нажмите btn:[Write], чтобы записать файл образа на флеш-накопитель.
====

[[bsdinstall-start]]
== Начало установки

[IMPORTANT]
====
По умолчанию установка не вносит никаких изменений на диск(и) до следующего сообщения:

[.programlisting]
....
Your changes will now be written to disk. If you
have chosen to overwrite existing data, it will
be PERMANENTLY ERASED. Are you sure you want to
commit your changes?
....

Установку можно прервать в любой момент до этого предупреждения. Если есть опасения, что что-то настроено неправильно, просто выключите компьютер до этого момента, и никакие изменения не будут внесены в диски системы.
====

В этом разделе описывается, как загрузить систему с установочного носителя, подготовленного в соответствии с инструкциями в пункте crossref:bsdinstall[bsdinstall-installation-media, Подготовка установочного носителя]. При использовании загрузочной USB-флешки подключите её к компьютеру перед включением. При загрузке с CD или DVD включите компьютер и вставьте носитель при первой возможности. Настройка системы для загрузки с подключённого носителя зависит от архитектуры.

[[bsdinstall-view-probe]]
=== Меню загрузчика FreeBSD

После загрузки системы с установочного носителя появится меню, подобное следующему:

[[bsdinstall-newboot-loader-menu]]
.Меню загрузчика FreeBSD
image::bsdinstall-newboot-loader-menu.png["Меню загрузчика FreeBSD"]

По умолчанию меню будет ждать десять секунд ввода пользователя перед загрузкой установщика FreeBSD или, если FreeBSD уже установлена, перед загрузкой системы. Чтобы приостановить таймер загрузки для просмотра вариантов, нажмите kbd:[Пробел]. Для выбора варианта нажмите соответствующую подсвеченную цифру, символ или клавишу. Доступны следующие варианты.

* `Загрузка в многопользовательском режиме (Boot Multi User)`: Это продолжит процесс загрузки FreeBSD. Если таймер загрузки был приостановлен, нажмите kbd:[1], kbd:[B] (в верхнем или нижнем регистре) или kbd:[Enter].
* `Загрузка в однопользовательском режиме (Boot Single User)`: Этот режим может быть использован для исправления существующей установки FreeBSD, как описано в crossref:boot[boot-singleuser,“Однопользовательский режим”]. Для входа в этот режим нажмите kbd:[2] или kbd:[S] в верхнем или нижнем регистре.
* `Выход в загрузчик (Escape to loader prompt)`: Это загрузит систему в режим восстановления с ограниченным набором низкоуровневых команд. Данный режим описан в разделе crossref:boot[boot-loader,“Этап три”]. Для загрузки в этом режиме нажмите kbd:[3] или kbd:[Esc].
* `Перезагрузка (Reboot)`: Перезагружает систему.
* `Cons`: Позволяет продолжить установку через `видео`, `последовательный порт`, `двухконсольную конфигурацию (основная консоль — последовательный порт)` или `двухконсольную конфигурацию (основная консоль — видео)`
* `Ядро (Kernel)`: Загружает другое ядро.
* `Параметры загрузки (Boot Options)`: Открывает меню, показанное на рисунке crossref:bsdinstall[bsdinstall-boot-options-menu,Меню параметров загрузки FreeBSD] и описанное после него.

[[bsdinstall-boot-options-menu]]
.Меню параметров загрузки FreeBSD
image::bsdinstall-boot-options-menu.png["Меню с различными поддерживаемыми вариантами загрузки"]

Меню параметров загрузки разделено на две части. Первая часть позволяет либо вернуться в главное меню загрузки, либо сбросить все изменённые параметры к значениям по умолчанию.

Следующий раздел позволяет переключать доступные опции в состояние `Вкл` или `Выкл`, нажимая выделенную цифру или символ соответствующей опции. Система всегда будет загружаться с использованием текущих настроек этих опций, пока они не будут изменены. С помощью этого меню можно переключать несколько опций:

* `Поддержка ACPI (ACPI Support)`: Если система зависает во время загрузки, попробуйте переключить этот параметр в положение `Выкл.`. Этот параметр присутствует только в том случае, если поддержка ACPI доступна, но не обязательна.
* `Безопасный режим (Safe Mode)`: Если система всё ещё зависает во время загрузки, даже когда `Поддержка ACPI` установлена в `Выкл`, попробуйте установить этот параметр в `Вкл`.
* `Однопользовательский (Single User)`: Установите этот параметр в `Вкл`, чтобы исправить существующую установку FreeBSD, как описано в crossref:boot[boot-singleuser,“Однопользовательский режим”]. После устранения проблемы верните значение `Выкл`.
* `Подробно (Verbose)`: Установите этот параметр в `Вкл`, чтобы видеть более подробные сообщения в процессе загрузки. Это может быть полезно при диагностике проблем с оборудованием.

После выбора необходимых параметров нажмите kbd:[1] или kbd:[Backspace], чтобы вернуться в главное меню загрузки, затем нажмите kbd:[Enter] для продолжения загрузки FreeBSD. Появится серия сообщений загрузки, пока FreeBSD выполняет обнаружение аппаратных устройств и загружает программу установки. После завершения загрузки будет отображено приветственное меню, показанное на рисунке crossref:bsdinstall[bsdinstall-choose-mode,Приветственное меню].

[[bsdinstall-choose-mode]]
.Приветственное меню
image::bsdinstall-choose-mode.png["Приветственное меню установки FreeBSD"]

Нажмите kbd:[Enter], чтобы выбрать вариант по умолчанию btn:[Install] и перейти к установке. В остальной части этой главы описывается, как использовать этот установщик. В противном случае используйте стрелки вправо или влево или выделенную цветом букву, чтобы выбрать нужный пункт меню. Кнопка btn:[Shell] позволяет получить доступ к оболочке FreeBSD для использования командной строки и подготовки дисков перед установкой. Вариант btn:[Live CD] позволяет попробовать FreeBSD перед установкой. Версия Live CD описана в пункте crossref:bsdinstall[using-live-cd, Использование Live CD].

[TIP]
====
Для просмотра загрузочных сообщений, включая информацию об обнаруженных аппаратных устройствах, нажмите kbd:[S] (верхний или нижний регистр) и затем kbd:[Enter], чтобы перейти в оболочку. В командной строке оболочки введите `more /var/run/dmesg.boot` и используйте пробел для прокрутки сообщений. По завершении введите `exit`, чтобы вернуться в меню приветствия.
====

[[using-bsdinstall]]
== Использование bsdinstall

В этом разделе показана последовательность меню bsdinstall и тип информации, которая будет запрошена перед установкой системы. Используйте клавиши со стрелками, чтобы выделить пункт меню, затем kbd:[Space] для выбора или отмены выбора этого пункта. По завершении нажмите kbd:[Enter], чтобы сохранить выбор и перейти к следующему экрану.

[[bsdinstall-keymap]]
=== Меню выбора раскладки клавиатуры

Перед началом процесса bsdinstall загрузит файлы раскладки клавиатуры, как показано на рисунке crossref:bsdinstall[bsdinstall-keymap-loading,Загрузка раскладки клавиатуры].

[[bsdinstall-keymap-loading]]
.Загрузка раскладки клавиатуры
image::bsdinstall-keymap-loading.png["Загрузка раскладки клавиатуры"]

После загрузки раскладок клавиатур bsdinstall отображает меню, показанное на рисунке crossref:bsdinstall[bsdinstall-keymap-10,Меню выбора раскладки клавиатуры]. Используйте стрелки вверх и вниз, чтобы выбрать раскладку, наиболее точно соответствующую клавиатуре, подключенной к системе. Нажмите kbd:[Enter], чтобы сохранить выбор.

[[bsdinstall-keymap-10]]
.Меню выбора раскладки клавиатуры
image::bsdinstall-keymap-10.png["Меню выбора раскладки клавиатуры со списком всех поддерживаемых клавиатур"]

[NOTE]
====
Нажатие kbd:[Esc] выйдет из этого меню и использует раскладку по умолчанию. Если выбор раскладки неочевиден, [.guimenuitem]#United States of America ISO-8859-1# также является безопасным вариантом.
====

Кроме того, при выборе другой раскладки клавиатуры пользователь может проверить её и убедиться в правильности перед продолжением, как показано на рисунке crossref:bsdinstall[bsdinstall-keymap-testing,Меню проверки раскладки клавиатуры].

[[bsdinstall-keymap-testing]]
.Меню тестирования раскладки клавиатуры
image::bsdinstall-keymap-testing.png["Меню тестирования раскладки клавиатуры"]

[[bsdinstall-hostname]]
=== Установка имени хоста

Следующее меню bsdinstall используется для установки имени хоста вновь устанавливаемой системы.

[[bsdinstall-config-hostname]]
.Установка имени хоста
image::bsdinstall-config-hostname.png["Установка имени хоста"]

Введите имя хоста, уникальное для сети. Оно должно быть полным доменным именем, например `machine3.example.com`.

[[bsdinstall-components]]
=== Выбор компонентов для установки

Затем `bsdinstall` предложит выбрать дополнительные компоненты для установки.

[[bsdinstall-config-components]]
.Выбор компонентов для установки
image::bsdinstall-config-components.png["Различные компоненты, которые могут быть установлены. Пример: `base-dbg`", lib32, ports, etc.]

Выбор компонентов для установки в значительной степени зависит от предполагаемого использования системы и доступного дискового пространства. Базовая система FreeBSD, включающая ядро и пользовательское окружение (_base system_), устанавливается всегда. В зависимости от архитектуры некоторые из этих компонентов могут отсутствовать:

* `base-dbg` - Базовые инструменты, такие как cat и ls, среди многих других, с активированными отладочными символами.
* `kernel-dbg` - Ядро и модули с включенными отладочными символами.
* `lib32-dbg` - Совместимые библиотеки для запуска 32-битных приложений на 64-битной версии FreeBSD с активированными отладочными символами.
* `lib32` - Совместимые библиотеки для запуска 32-битных приложений на 64-битной версии FreeBSD.
* `ports` - Коллекция портов FreeBSD представляет собой набор файлов, автоматизирующих загрузку, компиляцию и установку сторонних программных пакетов. В разделе crossref:ports[ports,Установка приложений: Пакеты и Порты] рассматривается, как использовать Коллекцию портов.
+
[WARNING]
====
Программа установки не проверяет наличие достаточного места на диске. Выбирайте этот вариант, только если доступно достаточно места на жестком диске. Коллекция портов FreeBSD занимает около {ports-size} места на диске.
====

* `src` - Полный исходный код FreeBSD, включая как ядро, так и пользовательское пространство. Хотя он не требуется для большинства приложений, он может быть необходим для сборки драйверов устройств, модулей ядра или некоторых приложений из коллекции портов. Также он используется для разработки самой FreeBSD. Полное дерево исходных кодов занимает 1 ГБ дискового пространства, а перекомпиляция всей системы FreeBSD требует дополнительно 5 ГБ пространства.
* `tests` — Набор тестов FreeBSD.

[[bsdinstall-netinstall]]
=== Установка по сети

Меню, показанное на рисунке crossref:bsdinstall[bsdinstall-netinstall-notify,Установка из сети], появляется только при установке с `-bootonly.iso` или `-mini-memstick.img`, так как эти носители не содержат копий файлов установки. Поскольку файлы установки должны быть получены через сетевое соединение, это меню указывает на необходимость предварительной настройки сетевого интерфейса. Если это меню появляется на любом этапе процесса, не забудьте следовать инструкциям из раздела crossref:bsdinstall[bsdinstall-config-network-dev,Настройка сетевых интерфейсов].

[[bsdinstall-netinstall-notify]]
.Установка по сети
image::bsdinstall-netinstall-files.png["Указывает, что определенные компоненты не были найдены и будут загружены через сеть."]

[[bsdinstall-partitioning]]
== Выделение дискового пространства

Следующее меню используется для определения метода распределения дискового пространства.

[[bsdinstall-zfs-partmenu]]
.Варианты разметки разделов
image::bsdinstall-zfs-partmenu.png["Показывает различные варианты разделов. Пример: Ручной", Shell, etc.]

bsdinstall предоставляет пользователю четыре метода распределения дискового пространства:

* `Auto (ZFS)` — автоматическое разбиение на разделы создаёт систему с корневым разделом на ZFS и возможностью использования шифрования GELI для _загрузочных окружений_.
* `Auto (UFS)` — автоматическое разбиение диска с использованием файловой системы `UFS`.
* `Ручное (Manual)` разбиение позволяет опытным пользователям создавать настраиваемые разделы с помощью параметров меню.
* `Оболочка (Shell)` открывает командную оболочку, где опытные пользователи могут создавать настраиваемые разделы с помощью утилит командной строки, таких как man:gpart[8], man:fdisk[8] и man:bsdlabel[8].

Этот раздел описывает, что следует учитывать при разметке разделов диска. Затем демонстрируется, как использовать различные методы разметки.

[[configtuning-initial]]
=== Проектирование разметки разделов

По умолчанию схема разметки разделов для файловых систем включает одну файловую систему для всей системы. При использовании `UFS` может быть целесообразно рассмотреть использование нескольких файловых систем, если у вас достаточно места на диске или несколько дисков. При разметке файловых систем учитывайте, что жёсткие диски передают данные быстрее с внешних дорожек по сравнению с внутренними. Таким образом, небольшие и часто используемые файловые системы должны располагаться ближе к внешней части диска, а крупные разделы, такие как `/usr`, следует размещать ближе к внутренней части диска. Рекомендуется создавать разделы в следующем порядке: `/`, раздел подкачки, `/var` и `/usr`.

Размер раздела `/var` зависит от предполагаемого использования машины. Этот раздел используется для хранения почтовых ящиков, файлов журналов и очередей печати. Почтовые ящики и файлы журналов могут достигать неожиданно больших размеров в зависимости от количества пользователей и срока хранения журналов. В среднем большинству пользователей редко требуется более одного гигабайта свободного места на диске в `/var`.

[NOTE]
====
Иногда в `/var/tmp` требуется много дискового пространства. При установке нового программного обеспечения утилиты управления пакетами извлекают временную копию пакетов в `/var/tmp`. У крупных пакетов, таких как Firefox или LibreOffice, могут возникнуть сложности во время установки, если в `/var/tmp` недостаточно места на диске.
====

Раздел `/usr` содержит множество файлов, поддерживающих систему, включая коллекцию портов FreeBSD и исходный код системы. Для этого раздела рекомендуется выделить не менее 2 гигабайт пространства. Также учтите, что домашние каталоги пользователей по умолчанию размещаются в `/usr/home`, но могут быть расположены на другом разделе. По умолчанию `/home` является символической ссылкой на `/usr/home`.

При выборе размера разделов учитывайте требования к пространству. Нехватка места в одном разделе при почти полном отсутствии использования другого может создать проблемы.

Как правило, размер раздела подкачки должен быть примерно в два раза больше объема физической памяти (RAM). Системам с малым объемом RAM (меньше для конфигураций с большим объемом памяти) может быть полезно иметь больше область подкачки. Слишком маленький объем подкачки может привести к неэффективности работы кода сканирования страниц виртуальной памяти и создать проблемы в будущем при добавлении памяти.

На больших системах с несколькими SCSI-дисками или несколькими IDE-дисками, работающими на разных контроллерах, рекомендуется настраивать раздел подкачки на каждом диске, вплоть до четырёх дисков. Разделы подкачки должны быть примерно одинакового размера. Ядро может обрабатывать разделы произвольного размера, но внутренние структуры данных масштабируются до 4-кратного размера наибольшего раздела подкачки. Поддержание разделов подкачки примерно одинакового размера позволит ядру оптимально распределять пространство подкачки по дискам. Большие размеры подкачки могут вызвать предупреждение ядра о суммарном объёме настроенной подкачки. Лимит можно увеличить, выделив больше памяти для отслеживания распределения подкачки, как указано в сообщении с предупреждением. Это может облегчить восстановление после сбоя программы без необходимости перезагрузки системы.

Правильное разделение системы на разделы предотвращает распространение фрагментации, возникающей в небольших разделах с высокой нагрузкой на запись, на преимущественно читаемые разделы. Размещение разделов с высокой нагрузкой на запись ближе к краю диска повышает производительность ввода-вывода в тех разделах, где это наиболее критично. Хотя производительность ввода-вывода в крупных разделах также может быть важной, их смещение ближе к краю диска не даст значительного прироста производительности по сравнению с перемещением `/var` к краю.

[[bsdinstall-part-guided]]
=== Разметка диска с использованием UFS с помощью мастера

При выборе этого метода отобразится меню с доступными дисками. Если подключено несколько дисков, выберите тот, на который будет установлена FreeBSD.

[[bsdinstall-part-guided-disk]]
.Выбор из нескольких дисков
image::bsdinstall-part-guided-disk.png["Показывает список дисков, на которые может быть установлена FreeBSD"]

После выбора диска в следующем меню предлагается установить систему на весь диск или создать раздел в свободном пространстве. Если выбран btn:[Весь диск], автоматически создаётся общая схема разделов, занимающая весь диск. При выборе btn:[Раздел] создаётся схема разделов из неиспользуемого пространства на диске.

[[bsdinstall-part-entire-part]]
.Выбор всего диска или раздела
image::bsdinstall-part-entire-part.png["Меню с вопросом к пользователю, хочет ли он использовать все доступное пространство на диске или создать раздел"]

После выбора варианта btn:[Весь диск] программа bsdinstall отображает диалоговое окно с предупреждением о том, что диск будет очищен.

[[bsdinstall-ufs-warning]]
.Подтверждение
image::bsdinstall-ufs-warning.png["Меню, предупреждающее пользователя о том, что все данные на диске будут удалены, и запрашивающее подтверждение"]

Следующее меню показывает список доступных типов схем разделов. GPT обычно является наиболее подходящим выбором для компьютеров amd64. Более старые компьютеры, несовместимые с GPT, должны использовать MBR. Остальные схемы разделов, как правило, применяются для редких или устаревших компьютеров. Дополнительная информация доступна в таблице crossref:bsdinstall[partition-schemes,Схемы разделов].

[[bsdinstall-ufs-scheme]]
.Выбор схемы разделов
image::bsdinstall-part-manual-partscheme.png["Меню, показывающее пользователю различные типы существующих разделов и запрашивающее выбор одного из них"]

После создания разметки разделов просмотрите её, чтобы убедиться, что она соответствует требованиям установки. Выбор btn:[Отменить (Revert)] вернёт разделы к исходным значениям. Нажатие btn:[Автоматически (Auto)] воссоздаст автоматические разделы FreeBSD. Разделы также можно создавать, изменять или удалять вручную. Когда разметка разделов будет правильной, выберите btn:[Готово (Finish)] для продолжения установки.

[[bsdinstall-part-review]]
.Проверка созданных разделов
image::bsdinstall-part-review.png["Меню с созданными разделами"]

После настройки дисков в следующем меню предоставляется последняя возможность внести изменения перед форматированием выбранных накопителей. Если изменения необходимы, выберите btn:[Назад], чтобы вернуться в главное меню разметки. btn:[Отменить & Выйти] завершает работу установщика без внесения изменений в накопитель. В противном случае выберите btn:[Применить], чтобы начать процесс установки.

[[bsdinstall-ufs-final-confirmation]]
.Окончательное подтверждение
image::bsdinstall-final-confirmation.png["Меню, уведомляющее пользователя о том, что все изменения будут записаны на диск, и предупреждающее, что в случае продолжения существующие данные будут безвозвратно удалены."]

Для продолжения процесса установки перейдите к разделу crossref:bsdinstall[bsdinstall-fetching-distribution, Загрузка файлов дистрибутива].

[[bsdinstall-part-manual]]
=== Ручное разбиение на разделы

Выбор этого метода открывает редактор разделов:

[[bsdinstall-part-manual-create]]
.Ручное создание разделов
image::bsdinstall-part-manual-create.png["Меню с отображением редактора разделов."]

Выделите диск для установки (в данном примере `ada0`) и нажмите btn:[Создать (Create)], чтобы отобразить меню доступных схем разделов:

[[bsdinstall-part-manual-partscheme]]
.Ручное создание разделов
image::bsdinstall-part-manual-partscheme.png["Меню с различными типами схем разделов"]

Для компьютеров на архитектуре amd64 обычно наиболее подходящим выбором является GPT. Старые компьютеры, несовместимые с GPT, должны использовать MBR. Остальные схемы разделов, как правило, применяются для редких или устаревших компьютеров.

[[partition-schemes]]
.Схемы разделов
[cols="25h,~", frame="none", options="header"]
|===
<| Сокращение
<| Описание

|APM
|Apple Partition Map, используется в PowerPC(R).

|BSD
|Метка BSD без MBR, иногда называемая _опасно выделенным режимом_, так как не-BSD утилиты для работы с дисками могут её не распознать.

|GPT
|link:https://en.wikipedia.org/wiki/GUID_Partition_Table[GUID Partition Table].

|MBR
|link:https://en.wikipedia.org/wiki/Master_boot_record[Master Boot Record].
|===

После выбора и создания схемы разделов снова выберите btn:[Создать], чтобы создать разделы. Клавиша kbd:[Tab] используется для перехода между полями (после перебора btn:[<OK>], btn:[<Параметры>] и btn:[<Отмена>]).

[[bsdinstall-part-manual-addpart]]
.Ручное создание разделов
image::bsdinstall-part-manual-addpart.png["Тип запрашиваемого меню", size, mountpoint and label for the new partition.]

Стандартная установка FreeBSD с использованием GPT включает как минимум три раздела, включая либо UFS, либо ZFS:

* `freebsd-boot` или `efi` - Содержит загрузочный код FreeBSD.
* `freebsd-ufs` - Файловая система FreeBSD UFS.
* `freebsd-zfs` - Файловая система ZFS в FreeBSD. Дополнительная информация о ZFS доступна в crossref:zfs[zfs,Файловая система ZFS (ZFS)].
* `freebsd-swap` - область подкачки FreeBSD.

Обратитесь к man:gpart[8] для описания доступных типов разделов GPT.

Можно создать несколько разделов файловой системы. Некоторые предпочитают традиционную схему с отдельными разделами для `/`, `/var`, `/tmp` и `/usr`.

[TIP]
====
Обратите внимание, что `/tmp` можно добавить позже как файловую систему в памяти (man:tmpfs[5]) на системах с достаточным объемом оперативной памяти.
====

См. crossref:bsdinstall[bsdinstall-part-manual-splitfs,Создание традиционных разделов файловой системы с разделением] для примера.

`Размер (Size)` может быть указан с общепринятыми сокращениями: _K_ для килобайт, _M_ для мегабайт или _G_ для гигабайт.

[TIP]
====
Правильное выравнивание секторов обеспечивает наилучшую производительность, а создание разделов с размерами, кратными 4 КБ, помогает гарантировать выравнивание на дисках с секторами размером 512 байт или 4 КБ. Как правило, использование размеров разделов, кратных 1 МБ или 1 ГБ, — это самый простой способ убедиться, что каждый раздел начинается с адреса, кратного 4 КБ. Есть одно исключение: раздел _freebsd-boot_ для загрузки из BIOS не должен превышать 512 КБ из-за ограничений старого загрузочного кода. Для загрузки с поддержкой UEFI такого ограничения нет.
====

Для раздела, который будет содержать файловую систему, требуется `точка монтирования (Mountpoint)`. Если создается только один раздел UFS, точкой монтирования должен быть `/`.

`Метка (Label)` — это имя, по которому раздел будет известен. Имена или номера дисков могут измениться, если диск подключён к другому контроллеру или порту, но метка раздела остаётся неизменной. Использование меток вместо имён дисков и номеров разделов в файлах, таких как `/etc/fstab`, делает систему более устойчивой к изменениям оборудования. Метки GPT отображаются в `/dev/gpt/` при подключении диска. Другие схемы разделения имеют свои возможности для меток, и их метки отображаются в разных каталогах в `/dev/`.

[TIP]
====
Используйте уникальные метки для каждого раздела, чтобы избежать конфликтов из-за одинаковых меток. Можно добавить несколько букв из имени компьютера, его назначения или местоположения. Например, используйте `labroot` или `rootfslab` для корневого раздела UFS на компьютере с именем `lab`.
====

[[bsdinstall-part-manual-splitfs]]
.Создание традиционных разделов файловой системы с разделением
[example]
====
Для традиционной схемы разделов, где `/`, `/var`, `/tmp` и `/usr` являются отдельными файловыми системами на своих разделах, создайте схему разделов GPT, затем создайте разделы, как показано ниже. Указанные размеры разделов типичны для целевого диска размером 20 ГБ. Если на целевом диске доступно больше места, могут быть полезны увеличенные разделы подкачки или `/var`. Метки, указанные здесь, имеют префикс `ex` (от "example"), но читателям следует использовать другие уникальные значения меток, как описано выше.

По умолчанию `gptboot` в FreeBSD ожидает, что первый UFS-раздел будет разделом `/`.

[.informaltable]
[cols="1,1,1,1", frame="none", options="header"]
|===
| Тип раздела
| Размер
| Точка монтирования
| Label

|`freebsd-boot`
|`512K`
| 
| 

|`freebsd-ufs`
|`2G`
|`/`
|`exrootfs`

|`freebsd-swap`
|`4G`
| 
|`exswap`

|`freebsd-ufs`
|`2G`
|`/var`
|`exvarfs`

|`freebsd-ufs`
|`1G`
|`/tmp`
|`extmpfs`

|`freebsd-ufs`
|принять значение по умолчанию (оставшаяся часть диска)
|`/usr`
|`exusrfs`
|===
====

После создания пользовательских разделов выберите btn:[Завершить (Finish)], чтобы продолжить установку и перейти к разделу crossref:bsdinstall[bsdinstall-fetching-distribution, Загрузка файлов дистрибутива].

[[bsdinstall-part-zfs]]
=== Разметка диска с использованием Root-on-ZFS с помощью мастера

Этот режим разметки работает только с целыми дисками и полностью сотрёт все данные на диске. Основное меню настройки ZFS предоставляет несколько вариантов управления созданием пула.

[[bsdinstall-zfs-menu]]
.Меню разметки ZFS
image::bsdinstall-zfs-menu.png["Меню с различными вариантами настройки пула ZFS"]

Вот краткое описание пунктов этого меню:

* `Установить (Install)` - Приступить к установке с выбранными параметрами.
* `Тип пула/диски (Pool Type/Disks)` - Настройте `Тип пула` и диск(и), которые будут составлять пул. Автоматический установщик ZFS в настоящее время поддерживает создание только одного vdev верхнего уровня, за исключением режима stripe. Для создания более сложных пулов воспользуйтесь инструкциями в crossref:bsdinstall[bsdinstall-part-shell, Разметка в режиме оболочки], чтобы создать пул.
* `Сканировать диски (Rescan Devices)` - Обновить список доступных дисков.
* `Информация о диске (Disk Info)` - Это меню позволяет просматривать информацию о каждом диске, включая таблицу разделов и другие данные, такие как модель устройства и серийный номер, если они доступны.
* `Имя пула (Pool Name)` - Укажите имя пула. По умолчанию используется имя _zroot_.
* `Принудительно использовать секторы 4K? (Force 4K Sectors?)` — Принудительное использование секторов размером 4K. По умолчанию установщик автоматически создает разделы, выровненные по границам 4K, и принудительно устанавливает использование секторов 4K в ZFS. Это безопасно даже для дисков с секторами размером 512 байт и имеет дополнительное преимущество: пулы, созданные на дисках с 512-байтными секторами, смогут в будущем работать с дисками, имеющими секторы 4K, — как для расширения хранилища, так и для замены вышедших из строя дисков. Нажмите kbd:[Enter], чтобы выбрать активацию или отказ от нее.
* `Шифровать диски (Encrypt Disks)?` - Шифрование дисков позволяет пользователю зашифровать диски с помощью GELI. Дополнительная информация о шифровании дисков доступна в crossref:disks[disks-encrypting-geli,“Шифрование дисков с помощью geli”]. Нажмите клавишу kbd:[Enter], чтобы выбрать, активировать его или нет.
* `Схема разделов (Partition Scheme)` - Выберите схему разделов. GPT рекомендуется в большинстве случаев. Нажмите клавишу kbd:[Enter] для выбора между различными вариантами.
* `Размер подкачки (Swap Size)` - Установите объем области подкачки.
* `Зеркалировать подкачку (Mirror Swap)?` - Определяет, нужно ли зеркалировать раздел подкачки между дисками. Учтите, что включение зеркалирования swap может нарушить работу дампов аварийных завершений. Нажмите kbd:[Enter], чтобы активировать или отклонить этот параметр.
* `Шифровать раздел подкачки (Encrypt Swap)?` - Определяет, следует ли шифровать раздел подкачки. При каждом запуске системы раздел подкачки будет зашифрован временным ключом, который удаляется после перезагрузки. Нажмите kbd:[Enter], чтобы выбрать, активировать эту функцию или нет. Дополнительная информация о шифровании раздела подкачки приведена в crossref:disks[swap-encrypting,"Шифрование раздела подкачки"].

Выберите kbd:[T], чтобы настроить `Тип пула (Pool Type)` и диски, которые будут входить в пул.

[[bsdinstall-zfs-vdev_type]]
.Тип пула ZFS
image::bsdinstall-zfs-vdev_type.png["Меню выбора типа виртуального устройства. Например: stripe", mirror, raidz1]

Вот сводка по `Типу пула`, который можно выбрать в этом меню:

* `stripe` - Чередование (striping) обеспечивает максимальный объем хранилища из всех подключенных устройств, но не предоставляет избыточности. Если выйдет из строя хотя бы один диск, данные в пуле будут потеряны безвозвратно.
* `mirror` - Зеркалирование сохраняет полную копию всех данных на каждом диске. Зеркалирование обеспечивает высокую производительность чтения, поскольку данные считываются со всех дисков параллельно. Производительность записи ниже, так как данные должны быть записаны на все диски в пуле. Допускает отказ всех дисков, кроме одного. Для этого варианта требуется как минимум два диска.
* `raid10` - Чередующиеся зеркала. Обеспечивает наилучшую производительность, но наименьший объем хранилища. Для этого варианта требуется четное количество дисков, минимум четыре.
* `raidz1` - RAID с одинарной избыточностью. Позволяет одновременный отказ одного диска. Для этого варианта требуется как минимум три диска.
* `raidz2` - Двухдисковая избыточная RAID. Позволяет одновременно отказать двум дискам. Для этой конфигурации требуется как минимум четыре диска.
* `raidz3` - Трехкратно избыточный RAID. Позволяет одновременно отказать трем дискам. Для этого варианта требуется как минимум пять дисков.

После выбора `Типа пула` отображается список доступных дисков, и пользователю предлагается выбрать один или несколько дисков для создания пула. Затем конфигурация проверяется, чтобы убедиться, что выбрано достаточное количество дисков. Если проверка не пройдена, выберите btn:[<Изменить выбор>], чтобы вернуться к списку дисков, или btn:[<Назад>], чтобы изменить `Тип пула`.

[[bsdinstall-zfs-disk_select]]
.Выбор диска
image::bsdinstall-zfs-disk_select.png["Меню с запросом количества дисков, добавляемых в пул"]

[[bsdinstall-zfs-vdev_invalid]]
.Неверный выбор
image::bsdinstall-zfs-vdev_invalid.png["Меню, указывающее, что выбрано недостаточно дисков."]

Если один или несколько дисков отсутствуют в списке или если диски были подключены после запуска установщика, выберите btn:[- Повторное сканирование устройств (Rescan Devices)], чтобы обновить список доступных дисков.

[[bsdinstall-zfs-rescan-devices]]
.Пересканировать Устройства
image::bsdinstall-zfs-rescan-devices.png["Пересканирование устройств"]

Чтобы случайно не стереть не тот диск, можно использовать меню btn:[- Disk Info] для просмотра информации о каждом диске, включая таблицу разделов и другие данные, такие как модель устройства и серийный номер, если они доступны.

[[bsdinstall-zfs-disk_info]]
.Анализ диска
image::bsdinstall-zfs-disk_info.png["Меню с информацией о разделах."]

Выберите kbd:[N] для настройки `Имени пула (Pool Name)`. Введите желаемое имя, затем выберите btn:[<OK>], чтобы установить его, или btn:[<Отмена>], чтобы вернуться в главное меню и оставить имя по умолчанию.

[[bsdinstall-zfs-pool-name]]
.Имя пула
image::bsdinstall-zfs-pool-name.png["Меню с запросом имени пула."]

Выберите kbd:[S], чтобы установить размер раздела подкачки. Введите желаемый размер раздела подкачки, затем выберите btn:[<OK>] для подтверждения или btn:[<Cancel>], чтобы вернуться в главное меню и оставить значение по умолчанию.

[[bsdinstall-zfs-swap-amount]]
.Размер раздела подкачки
image::bsdinstall-zfs-swap-amount.png["Меню с запросом объема области подкачки"]

После установки всех необходимых значений выберите в верхней части меню опцию btn:[>>> Установить]. Установщик предоставит последнюю возможность отменить процесс перед уничтожением содержимого выбранных дисков для создания пула ZFS.

[[bsdinstall-zfs-warning]]
.Последний шанс
image::bsdinstall-zfs-warning.png["Меню, предупреждающее пользователя о потере данных"]

Если включено шифрование дисков GELI, установщик дважды запросит парольную фразу, используемую для шифрования дисков. Затем начнётся инициализация шифрования.

[[bsdinstall-zfs-geli_password]]
.Пароль для шифрования диска
image::bsdinstall-zfs-geli_password.png["Меню с запросом пароля для шифрования устройств."]

[[bsdinstall-zfs-init-encription]]
.Инициализация шифрования
image::bsdinstall-zfs-init-encription.png["Меню, показывающее, что шифрование инициализируется."]

Установка затем продолжается в обычном режиме. Для продолжения установки перейдите к разделу crossref:bsdinstall[bsdinstall-fetching-distribution, Получение файлов дистрибутива].

[[bsdinstall-part-shell]]
=== Режим разметки разделов в оболочке

При создании сложных установок меню разметки `bsdinstall` может не предоставлять необходимого уровня гибкости. Опытные пользователи могут выбрать опцию btn:[Shell] в меню разметки, чтобы вручную разметить диски, создать файловую систему(ы), заполнить `/tmp/bsdinstall_etc/fstab` и смонтировать файловые системы в `/mnt`. После выполнения этих действий введите `exit`, чтобы вернуться в `bsdinstall` и продолжить установку.

[[bsdinstall-fetching-distribution]]
== Загрузка файлов дистрибутива

Время установки может варьироваться в зависимости от выбранных дистрибутивов, носителя установки и скорости компьютера. Серия сообщений будет показывать ход выполнения.

Сначала установщик форматирует выбранный диск(и) и инициализирует разделы. Затем, в случае `bootonly media` или `mini memstick`, он загружает выбранные компоненты:

[[bsdinstall-distfile-fetching]]
.Загрузка файлов дистрибутива
image::bsdinstall-distfile-fetching.png["Меню загрузки различных компонентов."]

Затем проверяется целостность файлов дистрибутива, чтобы убедиться, что они не были повреждены при загрузке или неправильно прочитаны с установочного носителя:

[[bsdinstall-distfile-verify]]
.Проверка файлов дистрибутива
image::bsdinstall-distfile-verifying.png["Меню с проверкой различных компонентов."]

Наконец, проверенные файлы дистрибутива извлекаются на диск:

[[bsdinstall-distfile-extract]]
.Извлечение файлов дистрибутива
image::bsdinstall-distfile-extracting.png["Меню с извлечением различных компонентов."]

После извлечения всех запрошенных файлов дистрибутива `bsdinstall` отображает первый экран настройки после установки. Доступные параметры пост-конфигурации описаны в следующем разделе.

[[bsdinstall-post]]
== Сетевые интерфейсы, учетные записи, часовой пояс, службы и защита

[[bsdinstall-post-root]]
=== Установка пароля `root`

Сначала необходимо установить пароль `root`. При вводе пароля символы не отображаются на экране. Пароль нужно ввести дважды, чтобы избежать ошибок при наборе.

[[bsdinstall-post-set-root-passwd]]
.Установка пароля `root`
image::bsdinstall-post-root-passwd.png["Меню с запросом пароля пользователя root."]

[[bsdinstall-config-network-dev]]
=== Настройка сетевых интерфейсов

Далее приведён список сетевых интерфейсов, обнаруженных на компьютере. Выберите интерфейс для настройки.

[[bsdinstall-configure-net-interface]]
.Выберите сетевой интерфейс
image::bsdinstall-configure-network-interface.png["Меню с различными сетевыми интерфейсами для настройки."]

Если выбран интерфейс Ethernet, установщик перейдет сразу к меню, показанному в crossref:bsdinstall[bsdinstall-configure-net-ipv4,Выбор IPv4-сети]. Если выбран беспроводной сетевой интерфейс, система выполнит поиск точек доступа:

[[bsdinstall-wireless-scan]]
.Сканирование беспроводных точек доступа
image::bsdinstall-configure-wireless-scan.png["Меню сканирования беспроводных сетей."]

Беспроводные сети идентифицируются по имени Service Set Identifier (SSID) — короткому уникальному названию каждой сети. Обнаруженные при сканировании SSID перечислены ниже, вместе с описанием доступных типов шифрования для каждой сети. Если нужный SSID не отображается в списке, выберите btn:[Повторить сканирование (Rescan)], чтобы выполнить сканирование снова. Если нужная сеть по-прежнему не отображается, проверьте подключение антенны или попробуйте переместить компьютер ближе к точке доступа. После каждого изменения выполняйте повторное сканирование.

[[bsdinstall-wireless-accesspoints]]
.Выбор беспроводной сети
image::bsdinstall-configure-wireless-accesspoints.png["Меню с различными беспроводными сетями для подключения."]

Далее введите информацию для шифрования, чтобы подключиться к выбранной беспроводной сети. Настоятельно рекомендуется использовать шифрование WPA2 вместо устаревших типов, таких как WEP, которые обеспечивают низкий уровень безопасности. Если сеть использует WPA2, введите пароль, также известный как Pre-Shared Key (PSK). В целях безопасности вводимые символы отображаются звездочками.

[[bsdinstall-wireless-wpa2]]
.Настройка WPA2
image::bsdinstall-configure-wireless-wpa2setup.png["Меню с запросом пароля для беспроводной сети."]

Затем выберите, нужно ли настраивать IPv4-адрес на Ethernet или беспроводном интерфейсе:

[[bsdinstall-configure-net-ipv4]]
.Выберите сеть IPv4
image::bsdinstall-configure-network-interface-ipv4.png["Меню, указывающее, нужно ли настраивать IPv4 для выбранного интерфейса."]

Существует два способа настройки IPv4. DHCP автоматически правильно настроит сетевой интерфейс и должен использоваться, если в сети есть DHCP-сервер. В противном случае, информацию об адресации необходимо ввести вручную как статическую конфигурацию.

[NOTE]
====
Не вводите произвольные сетевые настройки, так как это не сработает. Если DHCP-сервер недоступен, получите информацию, указанную в crossref:bsdinstall[bsdinstall-collect-network-information, Необходимая информация о сети], у администратора сети или интернет-провайдера.
====

Если доступен DHCP-сервер, выберите btn:[Да] в следующем меню для автоматической настройки сетевого интерфейса. Установщик может показаться зависшим на минуту или около того, пока он находит DHCP-сервер и получает адресную информацию для системы.

[[bsdinstall-net-ipv4-dhcp]]
.Выберите конфигурацию IPv4 DHCP
image::bsdinstall-configure-network-interface-ipv4-dhcp.png["Меню, указывающее, нужно ли настраивать DHCP для выбранного интерфейса."]

Если DHCP-сервер недоступен, выберите btn:[Нет] и введите следующую информацию об адресации в этом меню:

[[bsdinstall-net-ipv4-static]]
.Статическая настройка IPv4
image::bsdinstall-configure-network-interface-ipv4-static.png["Меню запроса данных для настройки сети IPv4."]

* `IP-адрес` - IPv4-адрес, назначенный этому компьютеру. Адрес должен быть уникальным и не должен уже использоваться другим устройством в локальной сети.
* `Маска подсети (Subnet Mask)` - Маска подсети для сети.
* `Шлюз по умолчанию (Default Router)` - IP-адрес сетевого шлюза по умолчанию.

Следующий экран спросит, нужно ли настраивать интерфейс для IPv6. Если IPv6 доступен и нужен, выберите btn:[Да], чтобы включить его.

[[bsdinstall-net-ipv6]]
.Выберите сеть IPv6
image::bsdinstall-configure-network-interface-ipv6.png["Меню, указывающее, требуется ли настройка IPv6 для выбранного интерфейса."]

В IPv6 также есть два метода настройки. Stateless Address Autoconfiguration (SLAAC) автоматически запрашивает правильную конфигурационную информацию у локального маршрутизатора. Подробнее см. http://tools.ietf.org/html/rfc4862[rfc4862]. Статическая настройка требует ручного ввода сетевой информации.

Если доступен маршрутизатор IPv6, выберите btn:[Да] в следующем меню для автоматической настройки сетевого интерфейса. Установщик может на минуту или около того показаться зависшим, пока он ищет маршрутизатор и получает адресную информацию для системы.

[[bsdinstall-net-ipv6-slaac]]
.Выберите конфигурацию IPv6 SLAAC
image::bsdinstall-configure-network-interface-slaac.png["Меню, указывающее, нужно ли настраивать SLAAC для выбранного интерфейса."]

Если маршрутизатор IPv6 недоступен, выберите btn:[Нет] и введите следующую информацию о настройке адресации в этом меню:

[[bsdinstall-net-ipv6-static]]
.Статическая настройка IPv6
image::bsdinstall-configure-network-interface-ipv6-static.png["Меню запрашивает данные для настройки сети IPv6."]

* `IPv6-адрес` - IPv6-адрес, назначенный этому компьютеру. Адрес должен быть уникальным и не использоваться другим устройством в локальной сети.
* `Шлюз по умолчанию (Default Router)` - IPv6-адрес шлюза по умолчанию в сети.

Последнее меню настройки сети используется для конфигурации резолвера Domain Name System (DNS), который преобразует имена хостов в сетевые адреса и обратно. Если для автоматической настройки сетевого интерфейса использовались DHCP или SLAAC, значения в `Resolver Configuration` могут быть уже заполнены. В противном случае введите имя домена локальной сети в поле `Search`. `DNS #1` и `DNS #2` — это IPv4 и/или IPv6-адреса DNS-серверов. Требуется указать хотя бы один DNS-сервер.

[[bsdinstall-net-dns-config]]
.Конфигурация DNS
image::bsdinstall-configure-network-ipv4-dns.png["Меню запрашивает данные для настройки DNS в сети."]

После настройки интерфейса выберите зеркальный сайт, расположенный в том же регионе мира, что и компьютер, на который устанавливается FreeBSD. Файлы можно загрузить быстрее, если зеркало находится ближе к целевому компьютеру, что сокращает время установки.

[TIP]
====
Выбор `ftp://download.freebsd.org (Основной сайт)` автоматически перенаправит на ближайший зеркальный сервер.
====

[[bsdinstall-netinstall-mirror]]
.Выбор зеркала
image::bsdinstall-netinstall-mirrorselect.png["Меню выбора сетевого зеркала."]

[[bsdinstall-timezone]]
=== Установка часового пояса

Следующая серия меню используется для определения правильного местного времени путем выбора географического региона, страны и часовой зоны. Установка часовой зоны позволяет системе автоматически корректировать региональные изменения времени, такие как переход на летнее время, и правильно выполнять другие функции, связанные с часовыми зонами.

Пример, приведенный здесь, предназначен для машины, находящейся в материковой часовой зоне Испании, Европа. Выбор будет варьироваться в зависимости от географического местоположения.

[[bsdinstall-timezone-region]]
.Выберите регион
image::bsdinstall-timezone-region.png["Меню выбора региона часовой зоны."]

Соответствующий регион выбирается с помощью клавиш со стрелками, а затем нажатием kbd:[Enter].

[[bsdinstall-timezone-country]]
.Выберите страну
image::bsdinstall-timezone-country.png["Меню выбора страны для часовой зоны."]

Выберите соответствующую страну с помощью клавиш со стрелками и нажмите kbd:[Enter].

[[bsdinstall-timezone-zone]]
.Выбор часовой зоны
image::bsdinstall-timezone-zone.png["Меню запроса часовой зоны."]

Используя клавиши со стрелками, выберите подходящую часовую зону и нажмите kbd:[Enter].

[[bsdinstall-timezone-confirmation]]
.Подтверждение часовой зоны
image::bsdinstall-timezone-confirm.png["Меню с запросом подтверждения выбранной часовой зоны."]

Убедитесь, что аббревиатура часовой зоны верна.

[[bsdinstall-timezone-date]]
.Выбор даты
image::bsdinstall-timezone-date.png["Меню запроса системной даты."]

Выбор нужной даты осуществляется с помощью клавиш со стрелками, после чего нажимается btn:[Установить дату]. В противном случае можно пропустить выбор даты, нажав btn:[Пропустить].

[[bsdinstall-timezone-time]]
.Выбор времени
image::bsdinstall-timezone-time.png["Меню запроса системного времени."]

Подходящее время выбирается с помощью клавиш со стрелками, а затем нажатием btn:[Установить время]. В противном случае можно пропустить выбор времени, нажав btn:[Пропустить].

[[bsdinstall-sysconf]]
=== Включение сервисов

Следующее меню используется для настройки системных служб, которые будут запускаться при загрузке системы. Все эти службы являются опциональными. Запускайте только те службы, которые необходимы для функционирования системы.

[[bsdinstall-config-serv]]
.Выбор дополнительных служб для включения
image::bsdinstall-config-services.png["Меню с доступными сервисами."]

Вот перечень служб, которые можно включить в этом меню:

* `local_unbound` — Включить локальный DNS-резолвер unbound. Необходимо учитывать, что данная конфигурация предназначена только для использования в качестве локального кэширующего пересылающего резолвера. Если цель - настроить резолвер для всей сети, установите пакет package:dns/unbound[].
* `sshd` — демон Secure Shell (SSH), используемый для удалённого доступа к системе через зашифрованное соединение. Включайте эту службу только если системе необходимо быть доступной для удалённых входов.
* `moused` — Включите эту службу, если мышь будет использоваться в командной строке системной консоли.
* `ntpdate` — Включить автоматическую синхронизацию времени при загрузке. Обратите внимание, что функциональность этой программы теперь доступна в демоне man:ntpd[8], а утилита man:ntpdate[8] вскоре будет исключена.
* `ntpd` — демон протокола сетевого времени (NTP) для автоматической синхронизации часов. Включите эту службу, если хотите синхронизировать системные часы с удалённым сервером времени или пулом серверов.
* `powerd` — Утилита управления питанием системы для контроля питания и энергосбережения.
* `dumpdev` — Дампы памяти полезны при отладке проблем с системой, поэтому пользователям рекомендуется их включить.

[[bsdinstall-hardening]]
=== Включение параметров усиленной безопасности

Следующее меню используется для настройки параметров безопасности, которые будут включены. Все эти параметры необязательны, но их использование рекомендуется.

[[bsdinstall-hardening-options]]
.Выбор параметров усиленной безопасности
image::bsdinstall-hardening.png["Меню, показывающее различные варианты усиления безопасности."]

Вот сводка опций, которые можно включить в этом меню:

* `hide_uids` — Скрывать процессы, выполняемые от имени других пользователей (UID). Это предотвращает возможность непривилегированным пользователям видеть запущенные процессы других пользователей.
* `hide_gids` — Скрывать процессы, выполняемые от имени других групп (GID). Это предотвращает возможность непривилегированных пользователей видеть выполняемые процессы других групп.
* `hide_jail` — Скрывать процессы, выполняющиеся в клетке. Это предотвращает возможность непривилегированным пользователям видеть процессы, выполняющиеся внутри клетки.
* `read_msgbuf` — Запретить чтение буфера сообщений ядра непривилегированным пользователям. Предотвращает возможность использования непривилегированными пользователями man:dmesg[8] для просмотра сообщений из буфера журнала ядра.
* `proc_debug` — Отключает средства отладки процессов для непривилегированных пользователей. Отключает различные сервисы отладки межпроцессного взаимодействия для непривилегированных пользователей, включая некоторую функциональность procfs, `ptrace()` и `ktrace()`. Обратите внимание, что это также заблокирует работу инструментов отладки, таких как man:lldb[1], man:truss[1] и man:procstat[1], а также некоторых встроенных средств отладки в определённых скриптовых языках, например PHP.
* `random_pid` — Рандомизировать PID процессов.
* `clear_tmp` — очистка `/tmp` при запуске системы.
* `disable_syslogd` — Отключить открытие сетевого сокета syslogd. По умолчанию FreeBSD запускает syslogd в безопасном режиме с параметром `-s`, что предотвращает прослушивание входящих UDP-запросов на порту 514. При включении этой опции syslogd будет запущен с параметром `-ss`, что запрещает ему открывать какие-либо порты. Подробнее см. man:syslogd[8].
* `disable_sendmail` — Отключить почтовый транспортный агент sendmail.
* `secure_console` — заставляет командную строку запрашивать пароль `root` при входе в однопользовательский режим.
* `disable_ddtrace` — DTrace может работать в режиме, который влияет на работающее ядро. Деструктивные действия не могут быть использованы, если они явно не включены. Используйте `-w` для включения этой опции при работе с DTrace. Для получения дополнительной информации см. man:dtrace[1].
* `enable_aslr` — Включить рандомизацию раскладки адресного пространства. Для получения дополнительной информации о рандомизации раскладки адресного пространства можно обратиться к link:https://en.wikipedia.org/wiki/Address_space_layout_randomization[статье в Википедии].

[[bsdinstall-addusers]]
=== Добавление пользователей

Следующее меню предлагает создать хотя бы одну учетную запись пользователя. Рекомендуется входить в систему под учетной записью пользователя, а не как `root`. При входе под `root` практически отсутствуют ограничения или защита от возможных действий. Вход под обычным пользователем безопаснее и надежнее.

Выберите btn:[Да], чтобы добавить новых пользователей.

[[bsdinstall-add-user1]]
.Добавить учетные записи пользователей
image::bsdinstall-adduser1.png["Меню с запросом о желании пользователя быть добавленным в систему."]

Следуйте подсказкам и введите запрашиваемую информацию для учетной записи пользователя. Пример, показанный в crossref:bsdinstall[bsdinstall-add-user2,Ввод информации о пользователе], создает учетную запись пользователя `asample`.

[[bsdinstall-add-user2]]
.Введите информацию о пользователе
image::bsdinstall-adduser2.png["Меню, запрашивающее различную информацию для нового пользователя."]

Вот сводка информации для ввода:

* `Имя пользователя (Username)` — Имя пользователя, которое будет использоваться для входа. Обычно применяется соглашение, согласно которому имя пользователя формируется из первой буквы имени и фамилии, при условии что каждое имя пользователя уникально в системе. Имя пользователя чувствительно к регистру и не должно содержать пробелов.
* `Полное имя (Full name)` — Полное имя пользователя. Может содержать пробелы и используется в качестве описания учётной записи пользователя.
* `Uid` - Идентификатор пользователя. Обычно оставляется пустым, чтобы система автоматически назначила значение.
* `Группа (Login group)` - Группа пользователя. Обычно оставляется пустым для использования значения по умолчанию.
* `Добавить _пользователя_ в другие группы?` — Дополнительные группы, в которые будет добавлен пользователь. Если пользователю нужны административные права, укажите здесь `wheel`.
* `Класс логина (Login class)` - Обычно оставляется пустым для значений по умолчанию.
* `Оболочка (Shell)` - Введите одно из предложенных значений, чтобы установить интерактивную оболочку для пользователя. Дополнительную информацию об оболочках см. в crossref:basics[shells,Оболочки].
* `Домашний каталог (Home directory)` - Домашний каталог пользователя. Обычно значение по умолчанию является правильным.
* `Права доступа к домашнему каталогу (Home directory permissions)` - Права доступа к домашнему каталогу пользователя. Обычно значение по умолчанию является правильным.
* `Использовать аутентификацию на основе пароля (Use password-based authentication)?` - Обычно `yes`, чтобы пользователь вводил пароль при входе.
* `Использовать пустой пароль (Use an empty password)?` - Обычно `нет`, так как пустые или простые пароли ненадёжны.
* `Использовать случайный пароль (Use a random password)?` - Обычно `нет`, чтобы пользователь мог установить свой пароль в следующем запросе.
* `Введите пароль (Enter password)` - Пароль для этого пользователя. Вводимые символы не будут отображаться на экране.
* `Повторите пароль (Enter password again)` - Пароль должен быть введён повторно для проверки.
* `Заблокировать учетную запись после создания (Lock out the account after creation)?` - Обычно `нет`, чтобы пользователь мог войти в систему.

После ввода всех данных отображается сводка для проверки. Если была допущена ошибка, введите `no`, чтобы исправить её. Когда всё верно, введите `yes` для создания нового пользователя.

[[bsdinstall-add-user3]]
.Выход из управления пользователями и группами
image::bsdinstall-adduser3.png["Меню с информацией о новом пользователе и запросом на подтверждение корректности данных."]

Если нужно добавить других пользователей, ответьте `yes` на вопрос `Добавить другого пользователя (Add another user)?`. Введите `no`, чтобы завершить добавление пользователей и продолжить установку.

Для получения дополнительной информации о добавлении пользователей и управлении учетными записями см. crossref:basics[users-synopsis,Пользователи и основы управления учетными записями].

[[bsdinstall-final-conf]]
=== Окончательная конфигурация

После установки и настройки всех компонентов предоставляется последняя возможность изменить параметры.

[[bsdinstall-final-config]]
.Окончательная конфигурация
image::bsdinstall-finalconfiguration.png["Меню с различными вариантами действий перед завершением установки. Например: Добавить пользователя", Time Zone, etc.]

Используйте это меню для внесения изменений или выполнения дополнительной настройки перед завершением установки.

* `Добавить пользователя (Add User)` - Описано в crossref:bsdinstall[bsdinstall-addusers, Добавление пользователей].
* `Пароль root (Root Password)` - Описано в crossref:bsdinstall[bsdinstall-post-root, Установка пароля `root`].
* `Имя хоста (Hostname)` - Описано в crossref:bsdinstall[bsdinstall-hostname, Установка имени хоста].
* `Сеть (Network)` - Описано в crossref:bsdinstall[bsdinstall-config-network-dev, Настройка сетевых интерфейсов].
* `Службы (Services)` - Описано в crossref:bsdinstall[bsdinstall-sysconf, Включение служб].
* `Усиление защиты системы (System Hardening)` - Описано в crossref:bsdinstall[bsdinstall-hardening, Включение опций усиления безопасности].
* `Часовая зона (Time Zone)` - Описано в crossref:bsdinstall[bsdinstall-timezone, Настройка часовой зоны].
* `Руководство (Handbook)` - Загрузить и установить Руководство FreeBSD.

После завершения настройки выберите btn:[Выход (Exit)].

[[bsdinstall-final-modification-shell]]
.Ручная настройка
image::bsdinstall-final-modification-shell.png["Меню, показывающее, что установка завершена. И спрашивающее, хотите ли вы открыть оболочку для внесения изменений вручную."]

bsdinstall предложит выполнить любую дополнительную настройку, необходимую перед перезагрузкой в новую систему. Выберите btn:[Да], чтобы выйти в оболочку новой системы, или btn:[Нет], чтобы перейти к последнему шагу установки.

[[bsdinstall-final-main]]
.Завершение установки
image::bsdinstall-mainexit.png["Меню, показывающее завершение установки и предлагающее перезагрузить систему или получить доступ к Live CD."]

Если требуется дополнительная настройка или специальная установка, выберите btn:[Live CD], чтобы загрузить установочный носитель в режиме Live CD.

Если установка завершена, выберите btn:[Перезагрузка], чтобы перезагрузить компьютер и запустить новую систему FreeBSD. Не забудьте извлечь установочный носитель FreeBSD, иначе компьютер может снова загрузиться с него.

При загрузке FreeBSD отображаются информационные сообщения. После завершения загрузки системы появляется приглашение для входа. В ответ на приглашение `login:` введите имя пользователя, добавленное во время установки. Избегайте входа в систему как `root`. Инструкции по получению прав суперпользователя, когда требуется административный доступ, приведены в crossref:basics[users-superuser,Учётная запись суперпользователя].

Сообщения, появляющиеся во время загрузки, можно просмотреть, нажав kbd:[Scroll-Lock], чтобы включить буфер прокрутки. Для перемещения по сообщениям можно использовать клавиши kbd:[PgUp], kbd:[PgDn] и стрелки. По завершении нажмите kbd:[Scroll-Lock] снова, чтобы разблокировать экран и вернуться к консоли. Для просмотра этих сообщений после работы системы в течение некоторого времени введите `less /var/run/dmesg.boot` в командной строке. Нажмите kbd:[q], чтобы вернуться в командную строку после просмотра.

Если в crossref:bsdinstall[bsdinstall-config-serv,Выбор дополнительных служб для включения] была включена служба sshd, первая загрузка может быть немного медленнее, так как система генерирует SSH-ключи хоста. Последующие загрузки будут быстрее. Отпечатки ключей отображаются, как в следующем примере:

[source, shell]
....
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
10:a0:f5:af:93:ae:a3:1a:b2:bb:3c:35:d9:5a:b3:f3 root@machine3.example.com
The key's randomart image is:
+--[RSA1 1024]----+
|    o..          |
|   o . .         |
|  .   o          |
|       o         |
|    o   S        |
|   + + o         |
|o . + *          |
|o+ ..+ .         |
|==o..o+E         |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
7e:1c:ce:dc:8a:3a:18:13:5b:34:b5:cf:d9:d1:47:b2 root@machine3.example.com
The key's randomart image is:
+--[ DSA 1024]----+
|       ..     . .|
|      o  .   . + |
|     . ..   . E .|
|    . .  o o . . |
|     +  S = .    |
|    +  . = o     |
|     +  . * .    |
|    . .  o .     |
|      .o. .      |
+-----------------+
Starting sshd.
....

Обратитесь к crossref:security[openssh,"OpenSSH"] для получения дополнительной информации об отпечатках и SSH.

FreeBSD не устанавливает графическое окружение по умолчанию. Дополнительную информацию об установке и настройке графического оконного менеджера можно найти в crossref:x11[x11,The X Window System].

Правильное завершение работы компьютера под управлением FreeBSD помогает защитить данные и оборудование от повреждений. _Не отключайте питание до того, как система будет правильно остановлена!_ Если пользователь является членом группы `wheel`, необходимо стать суперпользователем, введя `su` в командной строке и указав пароль `root`. Затем введите `shutdown -p now`, и система корректно завершит работу, а если оборудование поддерживает такую возможность, выключится автоматически.

[[bsdinstall-install-trouble]]
== Устранение неполадок

Этот раздел посвящён устранению основных проблем при установке, включая распространённые ошибки, о которых сообщали пользователи.

Проверьте заметки о совместимости оборудования на странице link:https://www.FreeBSD.org/releases/[информации о выпусках FreeBSD] для соответствующей версии FreeBSD, чтобы убедиться, что оборудование поддерживается.

[NOTE]
====
Некоторые проблемы при установке можно избежать или уменьшить, обновив микропрограмму различных компонентов оборудования, в первую очередь материнской платы. Микропрограмма материнской платы обычно называется BIOS. У большинства производителей материнских плат и компьютеров есть веб-сайты с обновлениями и информацией о них.

Производители, как правило, не рекомендуют обновлять BIOS материнской платы без веской причины, такой как критическое обновление. Процесс обновления _может_ пройти неудачно, что приведёт к повреждению BIOS и неработоспособности компьютера.
====

Если система зависает при проверке оборудования во время загрузки или ведет себя странно в процессе установки, причиной может быть ACPI. FreeBSD активно использует системную службу ACPI на платформах i386 и amd64 для помощи в настройке системы, если она обнаружена во время загрузки. К сожалению, в драйвере ACPI, а также в материнских платах и BIOS до сих пор существуют ошибки. ACPI можно отключить, установив подсказку `hint.acpi.0.disabled` в загрузчике третьей стадии:

[source, shell]
....
set hint.acpi.0.disabled="1"
....

Этот параметр сбрасывается при каждой загрузке системы, поэтому необходимо добавить `hint.acpi.0.disabled="1"` в файл `/boot/loader.conf`. Дополнительную информацию о загрузчике можно найти в crossref:boot[boot-synopsis,"Synopsis"].

[[using-live-cd]]
== Использование Live CD

Меню приветствия `bsdinstall`, показанное в crossref:bsdinstall[bsdinstall-choose-mode,Меню приветствия], предоставляет опцию btn:[Live CD]. Это полезно для тех, кто ещё сомневается, подходит ли FreeBSD в качестве операционной системы, и хочет протестировать некоторые функции перед установкой.

Следует отметить следующие моменты перед использованием btn:[Live CD]:

* Для доступа к системе требуется аутентификация. Имя пользователя — `root`, пароль пустой.
* Поскольку система работает непосредственно с установочного носителя, производительность будет значительно ниже, чем у системы, установленной на жёсткий диск.
* Эта опция предоставляет только командную строку, а не графический интерфейс.
